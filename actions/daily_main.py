import time
import pyautogui

def wait_and_click(image_name, timeout=15, confidence=0.8):
    """
    –ü–æ–∏—Å–∫ —à–∞–±–ª–æ–Ω–∞ –Ω–∞ —ç–∫—Ä–∞–Ω–µ –∏ –∫–ª–∏–∫ –ø–æ –Ω–µ–º—É.
    –û–∂–∏–¥–∞–µ—Ç –ø–æ—è–≤–ª–µ–Ω–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ —Ç–µ—á–µ–Ω–∏–µ timeout —Å–µ–∫—É–Ω–¥.
    """
    print(f"üîç –û–∂–∏–¥–∞–Ω–∏–µ: {image_name}")
    start = time.time()
    while time.time() - start < timeout:
        location = pyautogui.locateCenterOnScreen(f"screenshots/{image_name}", confidence=confidence)
        if location:
            pyautogui.click(location)
            print(f"‚úÖ –ö–ª–∏–∫: {image_name}")
            return True
        time.sleep(0.5)
    print(f"‚ùå –ù–µ –Ω–∞–π–¥–µ–Ω–æ: {image_name}")
    return False

def run_daily_main_actions(main_name):
    """
    –í—ã–ø–æ–ª–Ω—è–µ—Ç —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è –¥–ª—è –æ—Å–Ω–æ–≤—ã (–≥–ª–∞–≤–Ω–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞).
    main_name ‚Äî –∏–º—è –æ—Å–Ω–æ–≤—ã (—Å—Ç—Ä–æ–∫–∞)
    –ó–¥–µ—Å—å –±—É–¥—É—Ç —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è: –≤—Ö–æ–¥, —Å–±–æ—Ä –Ω–∞–≥—Ä–∞–¥, –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∏ —Ç.–¥.
    """
    print(f'–ù–∞—á–∏–Ω–∞—é —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è –¥–ª—è –æ—Å–Ω–æ–≤—ã: {main_name}')
    # TODO: –¥–æ–±–∞–≤–∏—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è
    print(f'–ó–∞–≤–µ—Ä—à–µ–Ω—ã —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è –¥–ª—è –æ—Å–Ω–æ–≤—ã: {main_name}') 
